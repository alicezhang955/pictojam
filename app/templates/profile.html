{% extends "layout.html" %}

{% block main %}
  <div style="background-color: #D7DFF3; margin: 0; padding: 0; width: 100%; padding-top: 2em;">
    <div class="container">
      <div class="row" style="padding-top: 1em; padding-bottom: 2em;">

          <h3 style="font-size: 0.75em; font-weight: 700; margin-bottom: 1.5em;">Select playlists to analyze: </h3>
          
          <form id="myForm" action="/dashboard" method="GET" style="width: 100%; text-align: center"> 
            <div class="gallery-grid" style="width: 100%">
              
                <input type="hidden" name="authcode" value="{{user_auth_header}}" />
    
                {% for play in playlists %}
                  <div class='card' style="width: 100%; background-color: #D7DFF3;">
                    <input type="checkbox"  id="{{ play.id }}" name="{{ play.id}}"/>
                    <label for="{{ play.id }}"><img src="{{play.images[0].url}}" /></label>
                    <div style="text-align: center; font-size: 0.75em; font-weight: 500;">
                      <a href="{{ play.external_urls.spotify }}" style="color: black">{{ play.name }}</a>
                    </div>
    
                  </div>
                {% endfor %}
          </div>
          <button class="button" id="button_submit" style="margin-top: 5em;">Analyze Playlists</button>
        </form>

          

          </div>
              <script>
               $('#button_submit').click(function()
                  {var check_box_ids = $('#myForm [type="checkbox"]:checked').map(function () 
                  {return this.id;}).get();
                  });

              </script>

          
          
        <!-- </div> -->
         <!--
        <div class="col-sm-4">

          <h3> Your top artist: </h3>   
          <hr class="half-rule"/>

          {% for artist in top_artists %}
            <div class='row'>
              <a href="{{url_for('artist', id=artist.id) }}">

                <div class='col-sm-8'>
                  <span>{{ artist.name }} </span>
                </div>

              </a>
            </div>
          {% endfor %}
        </div> -->

        <!-- <div class="col-sm-4">

          <h3> Recently played:</h3>
          <hr class="half-rule"/>
          

          {% for track in recently_played %}
            <div class='row'>
              <a href="{{track.track.external_urls.spotify}}">

                <div class='col-sm-8'>
                  <span>{{track.track.name}}</span>
                </div>

              </a>
            </div>
          {% endfor %}
        </div> -->

      </div>
    </div>
  </div>


{% endblock %}